<!-- public/reservation.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Make a Reservation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <style>
        body {
            background-image: url("https://images.pexels.com/photos/10749578/pexels-photo-10749578.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1");
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        .reservation-container {
            background-color: rgba(0, 0, 0, 0.8);
            padding: 30px;
            border-radius: 10px;
            max-width: 600px;
            width: 90%;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            color: white;
        }
        
        .form-title {
            color: #ffcc00;
            font-size: 32px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .form-control {
            background-color: rgba(255, 255, 255, 0.9);
            border: none;
            padding: 12px 15px;
            margin-bottom: 20px;
        }
        
        .btn-primary {
            background-color: #ff5733;
            border: none;
            width: 100%;
            padding: 12px;
            font-size: 18px;
            font-weight: bold;
            margin-top: 20px;
        }
        
        .btn-primary:hover {
            background-color: #e04b2c;
        }
        
        .btn-secondary {
            background-color: #333;
            border: none;
            width: 100%;
            padding: 12px;
            font-size: 18px;
            font-weight: bold;
        }
        
        .btn-secondary:hover {
            background-color: #555;
        }
        
        .form-label {
            color: #ffcc00;
        }
        
        .section-header {
            color: #ff5733;
            font-size: 20px;
            margin-top: 20px;
            margin-bottom: 15px;
            border-bottom: 1px solid #ff5733;
            padding-bottom: 5px;

        
        }
        .text-muted {
            color: white !important;
        }
    </style>
</head>
<body>
    <div class="reservation-container">
        <h1 class="form-title">
            <i class="bi bi-calendar-check"></i> Make a Reservation
        </h1>
        
        <form id="reservation-form">
            <div class="section-header">Personal Information</div>
            
            <div class="mb-3">
                <label for="name" class="form-label">Full Name</label>
                <input type="text" class="form-control" id="name" required>
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="email" class="form-label">Email Address</label>
                    <input type="email" class="form-control" id="email" required>
                </div>
                
                <div class="col-md-6 mb-3">
                    <label for="phone" class="form-label">Phone Number</label>
                    <input type="tel" class="form-control" id="phone" pattern="d{10}" maxlength="10" minlength="10" required>
                </div>
            </div>
            
            <div class="section-header">Reservation Details</div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="date" class="form-label">Date</label>
                    <input type="date" class="form-control" id="date" required>
                </div>
                
                <div class="col-md-6 mb-3">
                    <label for="time" class="form-label">Time</label>
                    <input type="time" class="form-control" id="time" required>
                </div>
            </div>
            
            <div class="mb-3">
                <label for="party-size" class="form-label">Number of Guests</label>
                <select class="form-control" id="party-size" required>
                    <option value="" disabled selected>Select number of guests</option>
                    <option value="1">1 person</option>
                    <option value="2">2 people</option>
                    <option value="3">3 people</option>
                    <option value="4">4 people</option>
                    <option value="5">5 people</option>
                    <option value="6">6 people</option>
                    <option value="7">7 people</option>
                    <option value="8">8 people</option>
                    <option value="9">9 people</option>
                    <option value="10">10 people</option>
                    <option value="large">More than 10 (please specify in notes)</option>
                </select>
            </div>
            
            <div class="mb-3">
                <label for="occasion" class="form-label">Special Occasion (optional)</label>
                <select class="form-control" id="occasion">
                    <option value="" selected>None</option>
                    <option value="birthday">Birthday</option>
                    <option value="anniversary">Anniversary</option>
                    <option value="business">Business Dinner</option>
                    <option value="date">Date Night</option>
                    <option value="other">Other (please specify in notes)</option>
                </select>
            </div>
            
            <div class="mb-3">
                <label for="special-requests" class="form-label">Special Requests or Notes (optional)</label>
                <textarea class="form-control" id="special-requests" rows="3" placeholder="Allergies, dietary restrictions, seating preferences, etc."></textarea>
            </div>
            
            <div class="section-header">Confirmation</div>
            
            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="terms" required>
                <label class="form-check-label" for="terms">I agree to the reservation policy</label>
            </div>
            
            <div class="mb-3">
                <p class="small text-muted">By submitting this form, you agree to our cancellation policy. Please provide at least 24 hours notice for cancellations or changes to your reservation.</p>
            </div>
            
            <div class="d-grid gap-2">
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-check-circle"></i> Confirm Reservation
                </button>
                <button type="button" class="btn btn-secondary" onclick="window.history.back();">
                    <i class="bi bi-arrow-left"></i> Go Back
                </button>
            </div>
        </form>
    </div>
      <!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
    const firebaseConfig = {
        apiKey: "AIzaSyDM08PbY2agccbecoyBe4sAgjO2jH00x8E",
        authDomain: "restaurant-website-32bf6.firebaseapp.com",
        databaseURL: "https://restaurant-website-32bf6-default-rtdb.firebaseio.com",
        projectId: "restaurant-website-32bf6",
        storageBucket: "restaurant-website-32bf6.firebasestorage.app",
        messagingSenderId: "493995884129",
        appId: "1:493995884129:web:3edff4b4aa4583f0917420",
        measurementId: "G-0S5XT6D3X7"
      };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  document.getElementById('reservation-form').addEventListener('submit', function(event) {
    event.preventDefault();

    // Get form values
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const phone = document.getElementById('phone').value;
    const date = document.getElementById('date').value;
    const time = document.getElementById('time').value;
    const partySize = document.getElementById('party-size').value;
    const occasion = document.getElementById('occasion').value;
    const specialRequests = document.getElementById('special-requests').value;

    const reservationData = {
      name,
      email,
      phone,
      date,
      time,
      partySize,
      occasion,
      specialRequests,
      status: 'pending',
      timestamp: firebase.database.ServerValue.TIMESTAMP
    };

    const reservationId = 'res-' + Date.now();
    const reservationsRef = db.ref('reservations/' + reservationId);

    reservationsRef.set(reservationData)
      .then(() => {
        alert('Thank you for your reservation! Your confirmation number is: ' + reservationId);
        document.getElementById('reservation-form').reset();
      })
      .catch((error) => {
        console.error("Error saving reservation: ", error);
        alert('There was an error processing your reservation. Please try again.');
      });
  });
</script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.getElementById('reservation-form').addEventListener('submit', function(event) {
            event.preventDefault();
            
            // Get form values
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const date = document.getElementById('date').value;
            const time = document.getElementById('time').value;
            const partySize = document.getElementById('party-size').value;
            const occasion = document.getElementById('occasion').value;
            const specialRequests = document.getElementById('special-requests').value;
            
            // Create reservation object
            const reservationData = {
              name,
              email,
              phone,
              date,
              time,
              partySize,
              occasion,
              specialRequests,
              status: 'pending',
              timestamp: firebase.database.ServerValue.TIMESTAMP
            };
            
            // Generate a reservation ID
            const reservationId = 'res-' + Date.now();
            
            // Save to Firebase
            const reservationsRef = db.ref('reservations/' + reservationId);
            
            reservationsRef.set(reservationData)
              .then(() => {
                alert('Thank you for your reservation! Your confirmation number is: ' + reservationId);
                this.reset();
                
                // Optional: Send email notification
                // This would require a Cloud Function or backend service
              })
              .catch((error) => {
                console.error("Error saving reservation: ", error);
                alert('There was an error processing your reservation. Please try again.');
              });
          });
          
        ;
    </script>
</body>
</html>
